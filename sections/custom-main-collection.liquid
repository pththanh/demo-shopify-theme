{%- style -%}
    .custom-main-collection {
        width: 100%;
        position: relative;
        padding-top: 56.25%; /* 16:9 Aspect Ratio (9/16 = 0.5625) */
    }

    .custom-main-collection img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .main-collection-title-wrapper {
        position: absolute;
        bottom: -30px;
        left: 0;
    }

    .main-collection-title-wrapper-inner {
        min-width: 320px;
        background-color: #f0f1f2;        
        text-align: center;        
        padding: 40px;
        margin-left: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .main-collection-title {
        font-size: 42px;
        font-weight: 200;
        color: #000;
        line-height: 1.2;
        letter-spacing: -0.02em;
        margin: 0;
    }
{%- endstyle -%}

<div class="custom-main-collection">
    <img src="{{ section.settings.image | image_url: width: 1920 }}" alt="" width="100%" height="100%" />
    {% for block in section.blocks %}
        {% if block.type == 'main_collection_title' %}
            <div class="main-collection-title-wrapper">
                <div class="main-collection-title-wrapper-inner">
                    <h2 class="main-collection-title">{{ block.settings.title }}</h2>
                </div>
            </div>
        {% endif %}
    {% endfor %}
</div>
{% schema %}
  {
    "name": "Custom Main Collection",
    "settings": [
        {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
        },
        {
            "type": "metaobject",
            "id": "product_collection",
            "label": "Product Collection",
            "metaobject_type": "product_collection",
            "info": "Select a product collection metaobject"
        }
    ],
    "blocks": [
        {
            "type": "main_collection_title",
            "name": "Main Collection Title",
            "limit": 1,
            "settings": [
                {
                    "type": "text",
                    "id": "title",
                    "label": "Title"
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Custom Main Collection"
        }
    ]
  }
{% endschema %}
